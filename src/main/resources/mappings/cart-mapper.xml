<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cartDAO">
	<select id="getSameCart" parameterType="Map" resultType="Int">
		SELECT COUNT(*) pCnt FROM BASKET WHERE P_Num = #{pNum} AND ID = #{id}
	</select>
	<insert id="addCartProduct" parameterType="Map">
		INSERT INTO BASKET VALUES
		     (
		     	SELECT NVL(MAX(SEQ),0)+1 FROM BASKET), #{pNum} , #{pCnt} , #{id}  
	         )
	</insert>
	<select id="getCartCount" parameterType="String" resultType="Int">
		SELECT COUNT(*) FROM BASKET WHERE ID = #{id}
	</select>
</mapper>